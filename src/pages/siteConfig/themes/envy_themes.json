{
  "themes": [
    {
      "themeName": "Inverter",
      "sections": [
        {
          "sectionTitle": "Basic Setup",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Dry Contact Reuse",
                  "help": "Selects how the inverter's dry contact relay is reused. It can be configured for various control functions such as grid export limitation, smart load control, or dark start.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Dry Contact Reuse",
                      "arg": "DryContactReuse",
                      "dtype": "enum",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "0": "None",
                        "1": "Rapid Shutdown (RSD)",
                        "2": "Black Start",
                        "3": "Smart Load",
                        "4": "Non-critical Load"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 999,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.DryContactReuse"
                }
              ]
            }
          ],
          "section_id": "inverter.basic"
        },
        {
          "sectionTitle": "Current Transformer (CT) Settings",
          "subsections": [
            {
              "title": null,
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Meter Measurement Source",
                  "help": "The inverter can either read CTs directly, or read a stand-alone electric meter.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Meter Type",
                      "arg": "MeterType",
                      "dtype": "enum",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "0": "Meter",
                        "1": "CTs"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 1,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.MeterType"
                }
              ],
              "subsection_id": "measurement-advanced"
            }
          ],
          "section_id": "inverter.measurement"
        },
        {
          "sectionTitle": "PV",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "PV Sell to Grid",
                  "help": "You may disable solar power export to the utility grid. This setting supports NEM3 compatibility.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "PV Sell to Grid",
                      "arg": "PVSellToGrid",
                      "dtype": "bitfield16",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "7": "Enable export of PV power to the grid"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 3,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.PVSellToGrid"
                }
              ]
            }
          ]
        }
      ],
      "theme_id": "inverter"
    },
    {
      "themeName": "Battery",
      "sections": [
        {
          "sectionTitle": "Battery Scheduling",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Discharge only Control Style",
                  "help": "Selects how 'discharge only' is controlled. 'Discharge only' can stop when a voltage limit is reached or when a target state of charge (SOC) is reached.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Control Style",
                      "arg": "DischargeOnlyControlStyle",
                      "dtype": "bitfield16",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "4": "Enable SOC control (disable for voltage control)"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 120,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.DischargeOnlyControlStyle"
                },
                {
                  "title": "Discharge only Stop Voltage",
                  "help": "Sets the battery voltage at which discharge only will stop.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Discharge only Stop Voltage",
                      "arg": "DischargeOnlyStopVoltage",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 202,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.DischargeOnlyStopVoltage"
                }
              ]
            }
          ]
        },
        {
          "sectionTitle": "Grid Charge",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Grid Charge Control Style",
                  "help": "Selects how grid charging is controlled. Charging can follow a time schedule, stop when a voltage limit is reached, or stop when a target state of charge (SOC) is reached.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Control Style",
                      "arg": "GridChargeControlStyle",
                      "dtype": "bitfield16",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "1": "Charge based on time",
                        "2": "Stop charging at voltage limit",
                        "3": "Stop charging at SOC limit"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 120,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.GridChargeControlStyle"
                },
                {
                  "title": "Grid Charging Start Voltage",
                  "help": "Sets the battery voltage at which grid charging will stop.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Grid Charging Start Voltage",
                      "arg": "GridChargingStartVoltage",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 158,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.GridChargingStartVoltage"
                },
                {
                  "title": "Grid Charging Stop Voltage",
                  "help": "Sets the maximum battery voltage during grid charging. Once this voltage is reached, the inverter will stop charging from the grid to protect the battery and prevent overvoltage.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Grid Charging Stop Voltage",
                      "arg": "GridChargingStopVoltage",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 159,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.GridChargingStopVoltage"
                }
              ]
            }
          ]
        },
        {
          "sectionTitle": "Battery Base",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Max Charge Current",
                  "help": "Instead of using the presets, you may set the charge current directly in amps.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Charge Current (A)",
                      "arg": "ChargeCurr",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "A",
                      "range": {
                        "min": 0
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 101,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.ChargeCurr"
                },
                {
                  "title": "Battery Voltage Correction",
                  "help": "Recalibrate the battery voltage reading.  Enter the actual ground-truth voltage of the battery here.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Battery Voltage Correction",
                      "arg": "BatteryVoltageCorrection",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 999,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.DischgCurr"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "themeName": "Generator",
      "sections": [
        {
          "sectionTitle": "Generator",
          "subsections": [
            {
              "title": "Advanced",
              "visibility": "advanced",
              "collapsedByDefault": true,
              "points": [
                {
                  "title": "Generator Charge Mode",
                  "help": "Selects how the generator charges the battery. When enabled, the generator will charge the battery automatically based on voltage or SOC.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Generator Charge Mode",
                      "arg": "GenChg",
                      "dtype": "enum",
                      "description": "",
                      "longdescription": "",
                      "meanings": {
                        "0": "Based on SOC",
                        "1": "Based on Voltage"
                      }
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 999,
                      "register_type": 3,
                      "size": 1
                    }
                  },
                  "command_id": "Modbus.GenChg"
                },
                {
                  "title": "Generator Charge Start Voltage",
                  "help": "Sets the battery voltage at which the generator begins charging. Effective when generator charging by voltage is enabled.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Generator Charge Start Voltage",
                      "arg": "GenChgStartVolt",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 194,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.GenChgStartVolt"
                },
                {
                  "title": "Generator Charge End Voltage",
                  "help": "Sets the battery voltage at which the generator stops charging. Effective when generator charging by voltage is enabled.",
                  "element_type": "custom",
                  "access": "RW",
                  "readOnly": false,
                  "entries": [
                    {
                      "name": "Generator Charge End Voltage",
                      "arg": "GenChgEndVolt",
                      "dtype": "Number",
                      "description": "",
                      "longdescription": "",
                      "unit": "V",
                      "scalefactor": 0.1
                    }
                  ],
                  "protocol": {
                    "modbus": {
                      "address": 195,
                      "register_type": 3,
                      "size": 1,
                      "scale_factor": 0.1
                    }
                  },
                  "command_id": "Modbus.GenChgEndVolt"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}