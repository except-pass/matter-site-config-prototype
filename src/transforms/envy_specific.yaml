points:
  - section_id: inverter.measurement
    section: Advanced
    subsection_id: measurement-advanced
    visibility: advanced
    collapsedByDefault: true
    title: Meter Measurement Source
    help: The inverter can either read CTs directly, or read a stand-alone electric meter.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Meter Type
        arg: MeterType
        dtype: enum16
        meanings:
          "0": Meter
          "1": CTs
    protocol:
      modbus:
        address: 1
        register_type: 3
        size: 1
    command_id: Modbus.MeterType
  - section_id: inverter.basic
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Dry Contact Reuse
    help: Selects how the inverter's dry contact relay is reused. It can be configured for various control functions such as grid export limitation, smart load control, or dark start.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Dry Contact Reuse
        arg: DryContactReuse
        dtype: enum16
        meanings:
          "0": None
          "1": Rapid Shutdown (RSD)
          "2": Black Start
          "3": Smart Load
          "4": Non-critical Load
    protocol:
      modbus:
        address: 999
        register_type: 3
        size: 1
    command_id: Modbus.DryContactReuse
  - theme_id: inverter
    section: PV
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: PV Sell to Grid
    help: You may disable solar power export to the utility grid. This setting supports NEM3 compatibility.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: PV Sell to Grid
        arg: PVSellToGrid
        dtype: bitfield16
        meanings:
          "7": Enable export of PV power to the grid
    protocol:
      modbus:
        address: 3
        register_type: 3
        size: 1
    command_id: Modbus.PVSellToGrid
  - theme: Battery
    section: Battery Base
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Max Charge Current
    help: Instead of using the presets, you may set the charge current directly in amps.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Charge Current (A)
        arg: ChargeCurr
        dtype: uint16
        unit: A
        range:
          min: 0
    protocol:
      modbus:
        address: 101
        register_type: 3
        size: 1
    command_id: Modbus.ChargeCurr
  - theme: Battery
    section: Battery Base
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Max Discharge Current
    help: Instead of using the presets, you may set the discharge current directly in amps.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Charge Current (A)
        arg: ChargeCurr
        dtype: uint16
        unit: A
        range:
          min: 0
    protocol:
      modbus:
        address: 102
        register_type: 3
        size: 1
    command_id: Modbus.DischgCurr
  - theme: Battery
    section: Battery Base
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Discharge Current
    help: Instead of using the presets, you may set the discharge current directly in amps.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Discharge Current (A)
        arg: DischgCurr
        dtype: uint16
        unit: A
    protocol:
      modbus:
        address: 102
        register_type: 3
        size: 1
    command_id: Modbus.DischgCurr
  - theme: Battery
    section: Battery Base
    subsection: Advanced
    title: Battery Voltage Correction
    help: " "
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Battery Voltage Correction
        arg: BatteryVoltageCorrection
        dtype: uint16
        unit: V
        scalefactor: 0.1
    protocol:
      modbus:
        address: 999
        register_type: 3
        size: 1
    command_id: Modbus.DischgCurr
  - theme: Generator
    section: Generator
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Generator Charge Mode
    help: Selects how the generator charges the battery. When enabled, the generator will charge the battery automatically based on voltage or SOC.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Generator Charge Mode
        arg: GenChg
        dtype: enum16
        meanings:
          "0": Based on SOC
          "1": Based on Voltage
    protocol:
      modbus:
        address: 999
        register_type: 3
        size: 1
    command_id: Modbus.GenChg
  - theme: Generator
    section: Generator
    subsection: Advanced
    title: Generator Charge Start Voltage
    help: Sets the battery voltage at which the generator begins charging. Effective when generator charging by voltage is enabled.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Generator Charge Start Voltage
        arg: GenChgStartVolt
        dtype: uint16
        unit: V
        scalefactor: 0.1
    protocol:
      modbus:
        address: 194
        register_type: 3
        size: 1
    command_id: Modbus.GenChgStartVolt
  - theme: Generator
    section: Generator
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Generator Charge End Voltage
    help: Sets the battery voltage at which the generator stops charging. Effective when generator charging by voltage is enabled.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Generator Charge End Voltage
        arg: GenChgEndVolt
        dtype: uint16
        unit: V
        scalefactor: 0.1
    protocol:
      modbus:
        address: 195
        register_type: 3
        size: 1
    command_id: Modbus.GenChgEndVolt
  - theme: Generator
    section: Generator
    subsection: Generator Exercise
    title: Generator Exercise Schedule
    help: Configure a recurring schedule for generator exercise runs. Select the day of the week and time when the generator should run automatically.
    element_type: custom
    widget: generator-exercise
    access: Invoke
    readOnly: false
    entries:
      - name: Day of Week
        arg: DayOfWeek
        dtype: enum
        meanings:
          "0": Sunday
          "1": Monday
          "2": Tuesday
          "3": Wednesday
          "4": Thursday
          "5": Friday
          "6": Saturday
      - name: Hour
        arg: Hour
        dtype: Number
        range:
          min: 0
          max: 23
      - name: Minute
        arg: Minute
        dtype: Number
        range:
          min: 0
          max: 59
    protocol:
      cgi:
        MEP: HybridInverter
        Cluster: Plan
        Element: GeneratorExercise
    command_id: CGI.GeneratorExercise
  - theme: Battery
    section: Grid Charge
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Grid Charge Control Style
    help: Selects how grid charging is controlled. Charging can follow a time schedule, stop when a voltage limit is reached, or stop when a target state of charge (SOC) is reached.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Control Style
        arg: GridChargeControlStyle
        dtype: bitfield16
        meanings:
          "1": Charge based on time
          "2": Stop charging at voltage limit
          "3": Stop charging at SOC limit
    protocol:
      modbus:
        address: 120
        register_type: 3
        size: 1
    command_id: Modbus.GridChargeControlStyle
  - theme: Battery
    section: Grid Charge
    subsection: Advanced
    title: Grid Charging Start Voltage
    help: Sets the battery voltage at which grid charging will stop.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Grid Charging Start Voltage
        arg: GridChargingStartVoltage
        dtype: uint16
        scalefactor: 0.1
        unit: V
    protocol:
      modbus:
        address: 158
        register_type: 3
        size: 1
    command_id: Modbus.GridChargingStartVoltage
  - theme: Battery
    section: Grid Charge
    subsection: Advanced
    title: Grid Charging Stop Voltage
    help: Sets the maximum battery voltage during grid charging. Once this voltage is reached, the inverter will stop charging from the grid to protect the battery and prevent overvoltage.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Grid Charging Stop Voltage
        arg: GridChargingStopVoltage
        dtype: uint16
        scalefactor: 0.1
        unit: V
    protocol:
      modbus:
        address: 159
        register_type: 3
        size: 1
    command_id: Modbus.GridChargingStopVoltage
  - theme: Battery
    section: Battery Scheduling
    subsection: Advanced
    visibility: advanced
    collapsedByDefault: true
    title: Discharge only Control Style
    help: Selects how 'discharge only' is controlled. 'Discharge only' can stop when a voltage limit is reached or when a target state of charge (SOC) is reached.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Control Style
        arg: DischargeOnlyControlStyle
        dtype: bitfield16
        meanings:
          "4": Enable SOC control (disable for voltage control)
    protocol:
      modbus:
        address: 120
        register_type: 3
        size: 1
    command_id: Modbus.DischargeOnlyControlStyle
  - theme: Battery
    section: Battery Scheduling
    subsection: Advanced
    title: Discharge only Stop Voltage
    help: Sets the battery voltage at which discharge only will stop.
    element_type: Register
    access: RW
    readOnly: false
    entries:
      - name: Discharge only Stop Voltage
        arg: DischargeOnlyStopVoltage
        dtype: uint16
        scalefactor: 0.1
        unit: V
    protocol:
      modbus:
        address: 202
        register_type: 3
        size: 1
    command_id: Modbus.DischargeOnlyStopVoltage
